<h2>$this</h2>
<p>
  En PHP, "$this" est utilisé dans le cadre de la POO pour faire référence à <i>l'objet appelant</i>.<br/>
  Explication par l'exemple :
</p>
<p>
  Revenons-en à notre classe <i>Pokemon</i> et l'écriture des fonctions.<br/>
  ----------------------

</p>
<p>
  Un Pokémon peut en attaquer un autre, qui subit alors des dégâts <span class="chucho">(disons 5pts)</span>.<br/>
  Par ailleurs, le pokémon qui attaque gagne 1 point d'XP.
  <img src="codes/attaquer.png" alt="">
</p>
<p>
  En argument, on passe la cible, en précisant de quel type d'objet il s'agit.
  Une erreur sera alors soulevée si un pokémon essaye d'attaquer une aubergine.
</p>
<p>
  On utilise le symbole "->" pour appeler la fonction <i>subir_degats</i> de la cible,
  avec les dégâts en paramètres.
</p>
<p>
  Pour la partie concernant le gain d'XP, on utilise "$this" pour
  accéder à l'attribut XP du pokémon qui attaque afin de lui ajouter 1 pt
  <b>car c'est lui qui appelle la fonction <i>attaquer()</i></b><br/>
  ----------------------
</p>
<p>
  <img src="codes/subir_degats.png" alt="">
</p>
<p>
  Dans ce cas-ci, "$this" fait référence au pokémon cible,
  <b>car c'est lui qui appelle la fonction <i>subir_degats()</i></b>.
</p>
<div id="demo_page3" >
  <h3 style="padding:30px 0 0 0;">Pas encore tout à fait clair ?</h3>
  <aside id="pokemon_page3">
    <div id="pokemon_1">
      <img  class="pokemon" src="pokemon/bulbi.png" alt=""><br/>
      <aside id="pv_1">PV : 20</aside>
      <aside id="xp_1">XP : 10 </aside>
    </div>
    <div id="pokemon_2">
      <img class="pokemon" src="pokemon/salam.png" alt=""><br/>
      <aside id="pv_2">PV : 20</aside>
      <aside id="xp_2">XP : 10 </aside>
    </div>
  </aside>
  <div id="toHideAfter">
    <p>
      <span id="enonce">Instancie un pokémon stocké dans une variable "$pokemon_1" :</span><br/>
      <input class="incode" type="text" id="input_instanciation" value="$" />
    </p>
    <p>
      <span class="chucho">(Sans espaces "de décoration" autour d'un "=" par exemple, et n'oubliez pas le ";" à la fin !)</span>
    </p>
    <p>
      <input type="button" value="Ok" onclick="checkAnswer(input_instanciation)"/><br/>
    </p>
  </div>
  <div id="dev">
    <p>
      Que s'est-il passé ?
    </p>
    <p>
      La fonction <i>attaquer()</i> est appelée par le pokémon qui attaque.<br/>
      PHP va donc exécuter cette fonction en remplaçant le "$this" par "$pokemon_1",
      et le "$cible" par le paramètre "$pokemon_2".<br/>
      <img src="codes/attaquer_replace.png" alt=""/>
    </p>
    <p>
      La fonction <i>subir_degats()</i>, elle, est appelée par la cible.<br/>
      PHP va donc remplacer le "$this" par "$pokemon_2" et "$degats" par 5.<br/>
      <img src="codes/subir_degats_replace.png" alt=""/>
    </p>
  </div>
</div>

<p>
  <input type="button" value="Vérifier que j'ai bien compris" onclick="getExo('this.html',this_exo)"/>
</p>
<p id="this_exo">
</p>
<p>
  ---------------------- <br/>
  <input type="button" value="Next" onclick="show('page4.html')"/>
</p>
